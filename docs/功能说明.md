# 速读训练器功能说明

## 核心功能

### 1. 阅读模式

#### 1.1 串行模式
- **功能**: 逐词显示文本，强制读者保持前进式阅读
- **参数**:
  - 速度: 60-1000 字/分钟
  - 字数: 1-20 字/组
- **适用场景**: 
  - 初学者训练
  - 减少回视习惯
  - 建立阅读节奏

#### 1.2 高亮模式

##### 1.2.1 滚动式
- **功能**: 平滑滚动显示文本，保持上下文
- **参数**:
  - 上下文行数: 0-5 行
  - 背景文本颜色
- **特点**: 
  - 流畅的阅读体验
  - 可见周边文本

##### 1.2.2 分页式
- **训练目标**:
  - 扩大视幅，提升一次眼动捕捉的文字量
  - 减少左右眼动次数，培养横向阅读习惯
  - 训练快速识别文本块的能力

- **页面布局**:
  - 行数：可配置，默认5行（范围3-10行）
  - 分组：每行的文本块数量根据内容自然分布
  - 对齐：文本块左对齐排列
  - 间距：合适的行间距和块间距
  - 宽度：可配置文本区域的整体宽度
    - 宽度决定每行可容纳的字数
    - 例：宽度设为10个字，则每行最多显示10个字
    - 宽度会影响文本块的跨行显示

- **阅读控制**:
  - 自动模式：
    1. 按设定速度自动播放
    2. 从左到右、从上到下逐块高亮
    3. 当前页读完后自动翻页
    4. 可随时暂停/继续
  - 手动模式：
    1. 通过快捷键或点击控制前进
    2. 支持手动翻页
    3. 可随时切换到自动模式

- **文本分块**:
  - 按设定字数分组（chunkSize）
  - 保持文本块的语义完整性
  - 文本块可以跨行显示，例如：
    ```
    假设：
    - 每行宽度：10个字
    - 文本块大小：4个字
    
    原文：「这是第一行文本这是第二行文本」
    
    显示效果：
    这是第一｜行文本这｜
    是第二行｜文本    ｜
    ```
  - 分块规则：
    1. 从左到右、从上到下按固定字数（chunkSize）分组
    2. 当一行剩余空间不足一个完整文本块时，与下一行文本合并成一个块
    3. 最后一个不足 chunkSize 的文本作为完整块
    4. 保持段落格式和换行符
    5. 每页最后一行特殊处理：
       - 不进行跨页合并
       - 剩余文字不足一个完整文本块时，直接作为独立块
       - 这样处理是为了避免跨页显示造成的阅读中断

  示例（最后一行特殊处理）：
  ```
  假设：
  - 每行宽度：10个字
  - 文本块大小：4个字
  - 最后一行

  原文：「这是最后一行的文字」

  显示效果：
  这是最后｜一行的文｜字      ｜
  ```

- **高亮规则**:
  - 顺序：从左到右，从上到下逐块高亮
  - 范围：当前页面的所有文本块
  - 状态：
    - 当前块：最高亮度
    - 已读块：保持高亮
    - 未读块：暗色显示
  - 过渡：块间高亮切换平滑过渡

- **翻页机制**:
  - 时机：当前页所有块（包括不完整块）高亮完成后
  - 切换：自动切换到下一页
  - 动画：页面切换时平滑过渡
  - 控制：
    - 自动：按设定速度播放
    - 手动：支持暂停/继续
    - 进度：支持进度条跳转

### 2. 视觉辅助

#### 2.1 焦点设置
- **位置选项**:
  - 左侧注视点
  - 中心注视点
  - 右侧注视点
- **功能**:
  - 引导视线移动
  - 扩大视野范围
  - 减少眼动次数

#### 2.2 进度显示
- **功能**:
  - 显示阅读进度条
  - 支持进度跳转
  - 显示剩余时间

### 3. 统计功能

#### 3.1 实时统计
- 当前阅读速度 (字/分钟)
- 已读字数
- 预计剩余时间

#### 3.2 阅读记录
- 本次阅读时长
- 平均阅读速度
- 完成度统计

## 设置选项

### 1. 基础设置
```typescript
interface BaseSettings {
  chunkSize: number;      // 每组字数
  speed: number;          // 阅读速度
  fontSize: number;       // 字体大小
  fontColor: string;      // 字体颜色
  bgColor: string;        // 背景颜色
  textAlign: string;      // 文本对齐
  windowSize: string;     // 窗口大小
}

interface PageModeSettings {
  textAreaWidth: number;  // 分页模式文本区域宽度（像素）
  lineSpacing: number;    // 行间距
  blockSpacing: number;   // 块间距
  pageSize: number;       // 每页行数
}
```

### 2. 高级设置
```typescript
interface AdvancedSettings {
  speedVariability: boolean;    // 速度变化
  sentenceBreak: boolean;      // 句末段落分组
  pauseAtBreaks: boolean;      // 停顿设置
  skipStopwords: boolean;      // 跳过虚词
  stopwords: string[];         // 虚词列表
}
```

## 快捷键

| 键位 | 功能 |
|------|------|
| 空格 | 开始/暂停 |
| N | 新文本 |
| R | 重新开始 |
| ↑ | 加速 |
| ↓ | 减速 |
| ← | 减少字数 |
| → | 增加字数 |
| S | 设置 |
| PageUp | 上一页 |
| PageDown | 下一页 |
| Tab | 切换自动/手动模式 |
| Enter | 手动模式下前进一块 |
| Home | 跳转到开始 |
| End | 跳转到结束 |

## 控制模式

### 1. 自动模式
- **特点**：
  - 按设定速度自动播放
  - 支持实时调速
  - 自动翻页
- **适用场景**：
  - 熟悉文本时
  - 训练固定速度
  - 长时间阅读

### 2. 手动模式
- **特点**：
  - 手动控制前进
  - 自由调整节奏
  - 支持快速跳转
- **适用场景**：
  - 学习新技巧时
  - 需要深入理解时
  - 速度适应阶段

### 3. 模式切换
- 可随时通过 Tab 键切换模式
- 切换时保持当前阅读位置
- 保持当前页面状态

## 使用建议

### 1. 新手入门
1. 从串行模式开始
2. 设置较低的初始速度 (200-300 字/分钟)
3. 使用较小的字数分组 (2-3 字/组)
4. 开启进度显示，随时掌握阅读状态

### 2. 进阶训练
1. 尝试高亮模式
2. 逐步提高速度
3. 增加字数分组
4. 尝试不同的焦点位置

### 3. 注意事项
- 保持适度的训练时长
- 注意理解度和速度的平衡
- 根据个人情况调整参数
- 定期评估进步情况 